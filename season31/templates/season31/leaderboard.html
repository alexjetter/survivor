<div class="pad0 marg0">
	{% if user.player.league and user.player.show_league_only %}
	<div class="subtitle">{{ user.player.league }}</div>
	<div class="subtitle">League Leaderboard</div>
	{% else %}
	<div class="subtitle">Leaderboard</div>
	{% endif %}

	<table>

		<tr>
			<td class="columnheader fgwhite">±</td>
			<td class="columnheader fgwhite">Plc</td>
			<td class="columnheader fgwhite">Player</td>
			<td class="columnheader fgwhite">Pts</td>
			<td class="columnheader"></td>
			<td class="columnheader fgwhite">Team</td>
		</tr>
		{% for player in user.player.get_leaderboard_players %}
		<tr>
			{% if player.movement > 0 %}
			<td class="columnheader fggreen5">+{{ player.movement }}</td>
			{% elif player.movement == 0 %}
			<td class="columnheader fggrey">{{ player.movement }}</td>
			{% else %}
			<td class=" columnheader fgred5">{{ player.movement }}</td>
			{% endif %}
			
			<td>{{ player.place }}</td>
			<td class="columnheader fgwhite"><a href="{% url 'season31:player' player.id %}" class="fgwhite">{{ player }}</a></td>
			<td>{{ player.score }}</td>
			<td class="columnheader"></td>
			<td class="pad0 marg0">			
				{% for pick in player.playerepisode_set.latest.get_team_picks %}
				<div class="bgtribe{{ pick.castaway_episode.tribe.color }} floatleft padlr2 padtb1 marg0 pickwidthsm" title="{{ pick.castaway_episode.castaway }}">
					<a href="{% url 'season31:castaway' pick.castaway_episode.castaway.id %}" class="fgblack pad0 marg0 ">{{ pick.castaway_episode.castaway.get_first_initial }}
					</a>
				</div>
				{% endfor %}
			</td>
		</tr>
		{% endfor %}
	</table>

	{% if user.is_superuser  %}
	<div class="spacer"></div>

	<div class="marg0 pad4 border">
		<form action="{% url 'season31:updatescores' %}" method="post">
			{% csrf_token %}
			<input type="submit" value="Update Scores" />
		</form>
	</div>

	<div class="marg0 pad4 border">
		<form action="{% url 'season31:addepisode' %}" method="post">
			{% csrf_token %}
			<div>
				<input type="checkbox" name="random" id="random" checked />
				<label for="random">Random Picks</label>
			</div>
			<div>
				<input type="number" name="teamsize" id="teamsize" min="2" max="5" value="{{ user.player.get_latest_episode.team_size }}" />
				<label for="teamsize">Team Size</label>
			</div>
			<input type="submit" value="Add Episode" />
		</form>
	</div>
	{% endif %}

</div>